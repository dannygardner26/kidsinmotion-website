<!DOCTYPE html>
<html>
<head>
    <title>Create Historical Events</title>
    <script>
        // Script to create historical events via API
        const baseURL = 'https://kidsinmotion-website-839796180413.us-east4.run.app/api';

        const events = [
            {
                name: "Kids in Motion Sports Clinic - Chester Valley",
                description: "An exciting sports clinic for kids featuring multiple sports activities, skill development, and fun games. Join us for an afternoon of active play and learning new sports skills!",
                date: "2025-08-15",
                startTime: "17:00",
                endTime: "19:00",
                location: "Chester Valley Little League, Monument Ave, Malvern, PA",
                ageGroup: "All Ages",
                capacity: 30,
                price: 0.0,
                eventTypes: "KID_EVENT"
            },
            {
                name: "Kids in Motion Sports Event - Allstar Academy",
                description: "High-energy sports clinic focusing on fundamental skills and teamwork. A great opportunity for kids to stay active and make new friends!",
                date: "2025-02-23",
                startTime: "17:30",
                endTime: "19:30",
                location: "Allstar Academy",
                ageGroup: "All Ages",
                capacity: 25,
                price: 0.0,
                eventTypes: "KID_EVENT"
            },
            {
                name: "Kids in Motion Fall Clinic - Chester Valley",
                description: "Fall sports clinic featuring seasonal activities and skill development. Perfect weather for outdoor sports and activities!",
                date: "2024-11-16",
                startTime: "14:00",
                endTime: "16:00",
                location: "Chester Valley Little League, Monument Field",
                ageGroup: "All Ages",
                capacity: 35,
                price: 0.0,
                eventTypes: "KID_EVENT"
            }
        ];

        async function createEvents() {
            // Using test admin token for development
            const token = 'test-admin-token';
            console.log('Using test admin token:', token);

            for (const event of events) {
                try {
                    console.log(`Creating event: ${event.name}`);
                    console.log('Event data being sent:', JSON.stringify(event, null, 2));

                    const response = await fetch(`${baseURL}/events`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify(event)
                    });

                    if (response.ok) {
                        const result = await response.json();
                        console.log(`✅ Created: ${event.name}`, result);
                        document.getElementById('results').innerHTML += `<p>✅ Created: ${event.name}</p>`;
                    } else {
                        console.error(`❌ Failed to create: ${event.name}`, await response.text());
                        document.getElementById('results').innerHTML += `<p>❌ Failed: ${event.name} - ${response.status}</p>`;
                    }
                } catch (error) {
                    console.error(`❌ Error creating ${event.name}:`, error);
                    document.getElementById('results').innerHTML += `<p>❌ Error: ${event.name} - ${error.message}</p>`;
                }
            }
        }
    </script>
</head>
<body>
    <h1>Create Historical Events for Kids in Motion</h1>
    <button onclick="createEvents()">Create All Historical Events</button>
    <div id="results"></div>

    <h2>Events to be created:</h2>
    <ul>
        <li>August 15, 2025 (5-7 PM) - Chester Valley Little League, Monument Ave, Malvern, PA</li>
        <li>February 23, 2025 (5:30-7:30 PM) - Allstar Academy</li>
        <li>November 16, 2024 (2-4 PM) - Chester Valley Little League, Monument Field</li>
    </ul>

    <h2>Instructions:</h2>
    <ol>
        <li>Open your browser and go to <a href="https://kidsinmotionpa.org" target="_blank">kidsinmotionpa.org</a></li>
        <li>Log in as admin (kidsinmotion0@gmail.com)</li>
        <li>Open browser dev tools (F12)</li>
        <li>Go to Application/Storage → Local Storage → kidsinmotionpa.org</li>
        <li>Find the auth token and copy it</li>
        <li>Come back to this page and click the button above</li>
        <li>Paste the token when prompted</li>
    </ol>
</body>
</html>